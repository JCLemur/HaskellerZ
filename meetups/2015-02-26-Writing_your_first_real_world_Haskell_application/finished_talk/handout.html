<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <meta http-equiv="Content-Style-Type" content="text/css" />
  <meta name="generator" content="pandoc" />
  <meta name="author" content="Simon Meier, IBM Research Zurich" />
  <title>An introduction to writing real world Haskell applications</title>
  <style type="text/css">code{white-space: pre;}</style>
  <style type="text/css">
table.sourceCode, tr.sourceCode, td.lineNumbers, td.sourceCode {
  margin: 0; padding: 0; vertical-align: baseline; border: none; }
table.sourceCode { width: 100%; line-height: 100%; }
td.lineNumbers { text-align: right; padding-right: 4px; padding-left: 4px; color: #aaaaaa; border-right: 1px solid #aaaaaa; }
td.sourceCode { padding-left: 5px; }
code > span.kw { color: #007020; font-weight: bold; }
code > span.dt { color: #902000; }
code > span.dv { color: #40a070; }
code > span.bn { color: #40a070; }
code > span.fl { color: #40a070; }
code > span.ch { color: #4070a0; }
code > span.st { color: #4070a0; }
code > span.co { color: #60a0b0; font-style: italic; }
code > span.ot { color: #007020; }
code > span.al { color: #ff0000; font-weight: bold; }
code > span.fu { color: #06287e; }
code > span.er { color: #ff0000; font-weight: bold; }
  </style>
</head>
<body>
<div id="header">
<h1 class="title">An introduction to writing real world Haskell applications</h1>
<h2 class="author">Simon Meier, IBM Research Zurich</h2>
<h3 class="date">February 17th, 2015</h3>
</div>
<div id="TOC">
<ul>
<li><a href="#goal-of-this-talk">Goal of this talk</a></li>
<li><a href="#setting-up-our-development-environment">Setting up our development environment</a></li>
<li><a href="#setting-up-our-project-environment">Setting up our project environment</a></li>
<li><a href="#adapting-the-initial-cabal-file">Adapting the initial cabal file</a></li>
<li><a href="#minimal-stub-for-our-application">Minimal stub for our application</a></li>
<li><a href="#compiling-and-running-our-stub">Compiling and running our stub</a></li>
<li><a href="#using-the-repl-to-run-our-stub">Using the REPL to run our stub</a></li>
<li><a href="#the-structure-of-haskell-applications">The structure of Haskell applications</a></li>
<li><a href="#implementing-wc--w">Implementing <code>wc -w</code></a></li>
<li><a href="#implementing-the-remaining-functionality">Implementing the remaining functionality</a></li>
<li><a href="#how-to-proceed-from-here">How to proceed from here</a></li>
</ul>
</div>
<h1 id="goal-of-this-talk">Goal of this talk</h1>
<ul>
<li>provide a blueprint for writing your own Haskell applications</li>
<li>explain how to navigate Haskell libraries and documentation</li>
<li>assumes some knowledge of Haskell syntax: ask if something is unclear!</li>
</ul>
<p>We’ll do this by implementing a clone of the Unix word-count <code>wc</code> utility.</p>
<h1 id="setting-up-our-development-environment">Setting up our development environment</h1>
<ul>
<li><code>ghc --version</code>: should be ≥ 7.6.1, ideally ≥ 7.8.4
<ul>
<li>install from <a href="https://www.haskell.org/platform/">Haskell platform</a> or <a href="https://www.haskell.org/ghc/download">GHC binary distribution</a></li>
<li>install libraries using <code>cabal</code> (into sandboxes)</li>
</ul></li>
<li><code>cabal --version</code>: should be ≥ 1.22
<ul>
<li>by default install some <code>cabal</code> from distro</li>
<li>make sure that your have <code>$HOME/.cabal/bin/</code> (<code>$HOME/Library/Haskell/bin</code> on OS X) in your $PATH</li>
<li>upgrade to the most recent version: <code>cabal install cabal-install</code></li>
<li>set <code>documentation: False</code> in <code>$HOME/.cabal/config</code> to improve build times</li>
</ul></li>
<li><p>decent text-editor that supports block-editing, e.g., <a href="http://notepad-plus-plus.org/features/column-mode-editing.html"><code>notepad++</code></a>, <a href="http://www.sublimetext.com/docs/selection"><code>sublime</code></a>, <a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Rectangles.html"><code>emacs</code></a> <a href="https://mkrmr.wordpress.com/2010/05/14/vim-tip-visual-block-editing/"><code>vim</code></a> (my <a href="https://github.com/meiersi/dotfiles/blob/master/vim/.vimrc">vim config</a>)</p></li>
<li><p>search engine shortcuts (<code>ha</code> for Hackage, <code>ho</code> for Hoogle)</p></li>
</ul>
<div class="figure">
<img src="data:image/png;base64,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" />

</div>
<h1 id="setting-up-our-project-environment">Setting up our project environment</h1>
<p>Create the initial project directory for our <code>wc</code> clone,</p>
<pre><code>mkdir wc
cd wc</code></pre>
<p>and populate it.</p>
<pre><code>cabal init</code></pre>
<p>Resulting directory layout:</p>
<pre><code>wc/
  LICENSE
  Setup.hs
  wc.cabal</code></pre>
<p>Create source directory and initial <code>Main.hs</code> file.</p>
<pre><code>  mkdir src
  touch src/Main.hs</code></pre>
<h1 id="adapting-the-initial-cabal-file">Adapting the initial cabal file</h1>
<pre><code>name:                wc
version:             0.1.0
synopsis:            Demo word-count application
-- description:
license:             BSD3
license-file:        LICENSE
author:              Simon Meier
maintainer:          simon.y.meier@gmail.com
-- copyright:
category:            System
build-type:          Simple
-- extra-source-files:
cabal-version:       &gt;=1.10

executable wc
  -- other-modules:
  -- other-extensions:
  build-depends:       base &gt;=4.7 &amp;&amp; &lt;4.8
  default-language:    Haskell2010

-- Options I have added to the initial config file

  -- Reduce clutter in your top-level directory
  hs-source-dirs:      src

  -- Tell `cabal` where our `main` entry point is.
  main-is: Main.hs

  -- ** -Wall is crucial! **
  -- Your program should always be -Wall clean, as the warnings
  -- help you avoid many stupid mistakes.
  ghc-options:         -Wall</code></pre>
<h1 id="minimal-stub-for-our-application">Minimal stub for our application</h1>
<pre class="sourceCode haskell"><code class="sourceCode haskell"><span class="ot">main ::</span> <span class="dt">IO</span> ()
main <span class="fu">=</span> error <span class="st">&quot;wc - main: not yet implemented&quot;</span></code></pre>
<ul>
<li><p><code class="sourceCode haskell"><span class="dt">IO</span> ()</code> is the type of IO-actions that return a zero-tuple; called unit and written as <code>()</code>.</p></li>
<li><p>use the <code>error</code> function with an <em>unambiguous</em> error message to report implementation errors</p></li>
</ul>
<pre class="sourceCode haskell"><code class="sourceCode haskell"><span class="co">-- | Report an implementation error.</span>
error<span class="ot"> ::</span> <span class="dt">String</span> <span class="ot">-&gt;</span> a</code></pre>
<h1 id="compiling-and-running-our-stub">Compiling and running our stub</h1>
<p>All <code>cabal</code> commands are to be executed in the top-level project directory.</p>
<p>Create a cabal sandbox in the <code>wc</code> directory. Hint: use most recent version of <code>cabal</code> and use <code>cabal --help</code> to explore options.</p>
<pre><code>&gt; cabal sandbox init
Writing a default package environment file to
./wc/cabal.sandbox.config
Creating a new sandbox at
./wc/.cabal-sandbox</code></pre>
<p>Install library dependencies into sandbox, build and install our application into sandbox. We use <code>-j1</code> to build with one core and get more detailed build output on <code>stdout</code>.</p>
<pre><code>&gt; cabal install -j1
Resolving dependencies...
Notice: installing into a sandbox located at
./wc/.cabal-sandbox
Configuring wc-0.1.0...
Building wc-0.1.0...
Preprocessing executable 'wc' for wc-0.1.0...
Installing executable(s) in
./wc/.cabal-sandbox/bin
Installed wc-0.1.0</code></pre>
<p>Run our executable.</p>
<pre><code>&gt; .cabal-sandbox/bin/wc src/Main.hs
wc: wc - main: not yet implemented</code></pre>
<h1 id="using-the-repl-to-run-our-stub">Using the REPL to run our stub</h1>
<p>Load project into REPL with dependencies as specified in .cabal file and installed in <code>.cabal-sandbox/</code>.</p>
<pre><code>&gt; cabal repl
Package has never been configured. Configuring with default flags. If this
fails, please run configure manually.
Configuring wc-0.1.0...
Preprocessing executable 'wc' for wc-0.1.0...
GHCi, version 7.8.3: http://www.haskell.org/ghc/  :? for help
Loading package ghc-prim ... linking ... done.
Loading package integer-gmp ... linking ... done.
Loading package base ... linking ... done.
[1 of 1] Compiling Main             ( src/Main.hs, interpreted )

src/Main.hs:1:1: Warning:
    Top-level binding with no type signature: main :: forall t. t
    Ok, modules loaded: Main.</code></pre>
<p>Run the programin with command-line arguments.</p>
<pre><code>&gt; :main src/Main.hs
Exception: wc - main: not yet implemented</code></pre>
<p>Hint: type <code>:?</code> in <code>ghci</code> to get a list of all available commands.</p>
<h1 id="the-structure-of-haskell-applications">The structure of Haskell applications</h1>
<ul>
<li>IO actions: threads, files manipulation, network communication</li>
<li>Pure functions: thread-safe by default, referentially transparent</li>
<li>Pure and total functions: the gold standard</li>
</ul>
<h1 id="implementing-wc--w">Implementing <code>wc -w</code></h1>
<p>Know your libraries.</p>
<ul>
<li><a href="https://hackage.haskell.org/package/base"><code>base</code></a>: <code class="sourceCode haskell"><span class="dt">Int</span></code>, <code class="sourceCode haskell"><span class="dt">Bool</span></code>, lists, control structures, <code class="sourceCode haskell"><span class="dt">IO</span></code></li>
<li><a href="https://hackage.haskell.org/package/bytestring">bytestring</a>: sequences of bytes</li>
<li><a href="https://hackage.haskell.org/package/text">text</a>: sequences of Unicode characters</li>
</ul>
<p><em>Great investment: read/skim their documentation and build a mental map.</em></p>
<p>Some useful functions.</p>
<pre class="sourceCode haskell"><code class="sourceCode haskell"><span class="ot">(.)                        ::</span> (b <span class="ot">-&gt;</span> c) <span class="ot">-&gt;</span> (a <span class="ot">-&gt;</span> b) <span class="ot">-&gt;</span> (a <span class="ot">-&gt;</span> c)
length<span class="ot">                     ::</span> [a] <span class="ot">-&gt;</span> <span class="dt">Int</span>
putStrLn<span class="ot">                   ::</span> <span class="dt">String</span> <span class="ot">-&gt;</span> <span class="dt">IO</span> ()
Data.Text.words<span class="ot">            ::</span> <span class="dt">Text</span> <span class="ot">-&gt;</span> [<span class="dt">Text</span>]
System.Environment.getArgs<span class="ot"> ::</span> <span class="dt">IO</span> [<span class="dt">String</span>]</code></pre>
<p>Adding dependencies: see the <a href="https://wiki.haskell.org/Package_versioning_policy">package versioning policy</a></p>
<ul>
<li>constrain dependencies to <code>x.y.*</code> for four-digit versions, and <code>x.*</code> for three digit versions</li>
</ul>
<p>(Check the <a href="https://github.com/meiersi/HaskellerZ/blob/master/meetups/2015-02-26-Writing_your_first_real_world_Haskell_application/wc/src/Main.hs">demo source code</a>.)</p>
<h1 id="implementing-the-remaining-functionality">Implementing the remaining functionality</h1>
<pre><code>wc [-clmw] [file ...]

-c      The number of bytes in each input file is written to the standard output.
-l      The number of lines in each input file is written to the standard output.
-m      The number of characters in each input file is written to the standard output.
-w      The number of words in each input file is written to the standard output.</code></pre>
<p>(Check the demo source code.)</p>
<p>Hint: to simplify code-recompile loop: use split-screen layout and <a href="https://hackage.haskell.org/package/ghcid"><code>ghcid</code></a>.</p>
<h1 id="how-to-proceed-from-here">How to proceed from here</h1>
<ul>
<li><a href="http://learnyouahaskell.com/">Learn You a Haskell</a> for the basics</li>
<li>lots of structure in type-classes read/skim the <a href="https://wiki.haskell.org/Typeclassopedia?">Typeclassopedia</a></li>
<li>lots of information in <a href="https://downloads.haskell.org/~ghc/latest/docs/html/users_guide/">GHC’s user’s guide</a></li>
<li>libraries to know by heart: <a href="https://hackage.haskell.org/package/safe">safe</a>, <a href="https://hackage.haskell.org/package/bytestring">bytestring</a>, <a href="https://hackage.haskell.org/package/text">text</a>, <a href="https://hackage.haskell.org/package/containers">containers</a>, <a href="https://hackage.haskell.org/package/unordered-containers">unordered-containers</a>, <a href="https://hackage.haskell.org/package/transformers">transformers</a>, <a href="https://hackage.haskell.org/package/either">either</a>, <a href="https://hackage.haskell.org/package/mtl">mtl</a>,</li>
<li>some libraries to know about: <a href="https://hackage.haskell.org/package/lens">lens</a>, <a href="https://hackage.haskell.org/package/aeson">aeson</a>, <a href="https://hackage.haskell.org/package/attoparsec">attoparsec</a>, <a href="https://hackage.haskell.org/package/parsec">parsec</a>, <a href="https://hackage.haskell.org/package/snap">snap</a>, <a href="https://hackage.haskell.org/package/blaze-html">blaze-html</a>, <a href="https://hackage.haskell.org/package/conduit">conduit</a>, <a href="https://hackage.haskell.org/package/optparse-applicative">optparse-applicative</a></li>
<li>choose a project to work on and ask about problems at our meetups</li>
<li>use Johan Tibell’s <a href="https://github.com/tibbe/haskell-style-guide/blob/master/haskell-style.md">styleguide</a> as an orientation point</li>
<li>follow <a href="http://www.reddit.com/r/haskell/" class="uri">http://www.reddit.com/r/haskell/</a> and <a href="https://planet.haskell.org/" class="uri">https://planet.haskell.org/</a> for inspiring pointers</li>
</ul>
</body>
</html>
